<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Day 21 - React ContactForm</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        background: #f3f4f6;
        margin: 0;
        display: flex;
        align-items: center;
        justify-content: center;
        height: 100vh;
      }
      .form-container {
        background: white;
        padding: 30px 40px;
        border-radius: 12px;
        box-shadow: 0 6px 15px rgba(0,0,0,0.1);
        width: 100%;
        max-width: 400px;
      }
      h1 {
        text-align: center;
        margin-bottom: 20px;
        color: #1f2937;
      }
      label {
        display: block;
        margin-bottom: 6px;
        color: #374151;
      }
      input, textarea {
        width: 100%;
        padding: 8px 10px;
        margin-bottom: 12px;
        border-radius: 6px;
        border: 1px solid #d1d5db;
        font-size: 0.95rem;
      }
      .error {
        color: red;
        font-size: 0.85rem;
        margin-top: -10px;
        margin-bottom: 8px;
      }
      button {
        background: #3b82f6;
        color: white;
        padding: 10px 14px;
        border: none;
        border-radius: 6px;
        font-size: 1rem;
        cursor: pointer;
      }
      button:hover {
        background: #2563eb;
      }
    </style>
  </head>
  <body>
    <div id="root"></div>

    <!-- React and ReactDOM via CDN -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <!-- Babel for JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <!-- React Code -->
    <script type="text/babel">
      const { useState } = React;

      function ContactForm() {
        const [formData, setFormData] = useState({ name: '', email: '', message: '' });
        const [errors, setErrors] = useState({});

        const validate = () => {
          const newErrors = {};
          if (!formData.name.trim()) newErrors.name = 'Name is required';
          if (!formData.email.trim()) newErrors.email = 'Email is required';
          else if (!/\S+@\S+\.\S+/.test(formData.email)) newErrors.email = 'Email is invalid';
          if (!formData.message.trim()) newErrors.message = 'Message is required';
          setErrors(newErrors);
          return Object.keys(newErrors).length === 0;
        };

        const handleChange = (e) => {
          setFormData({ ...formData, [e.target.name]: e.target.value });
        };

        const handleSubmit = (e) => {
          e.preventDefault();
          if (validate()) {
            alert(`Message sent!\n\nName: ${formData.name}\nEmail: ${formData.email}\nMessage: ${formData.message}`);
            setFormData({ name: '', email: '', message: '' });
            setErrors({});
          }
        };

        return (
          <div className="form-container">
            <h1>Contact Me</h1>
            <form onSubmit={handleSubmit} noValidate>
              <label>Name:</label>
              <input
                type="text"
                name="name"
                value={formData.name}
                onChange={handleChange}
              />
              {errors.name && <div className="error">{errors.name}</div>}

              <label>Email:</label>
              <input
                type="email"
                name="email"
                value={formData.email}
                onChange={handleChange}
              />
              {errors.email && <div className="error">{errors.email}</div>}

              <label>Message:</label>
              <textarea
                name="message"
                rows="4"
                value={formData.message}
                onChange={handleChange}
              ></textarea>
              {errors.message && <div className="error">{errors.message}</div>}

              <button type="submit">Send Message</button>
            </form>
          </div>
        );
      }

      const root = ReactDOM.createRoot(document.getElementById('root'));
      root.render(<ContactForm />);
    </script>
  </body>
</html>
